<!DOCTYPE html>
<html>
<head>
  <title>Valentine Surprise</title>
  <style>
    body {
      background: black;
      color: magenta;
      font-family: monospace;
      text-align: center;
      padding-top: 50px;
      overflow-x: hidden;
    }

    /* ECG line animation */
    .ecg {
      width: 100%;
      height: 100px;
      background: transparent;
      position: relative;
      margin: 20px auto;
    }
    .line {
      position: absolute;
      top: 50%;
      left: 0;
      width: 100%;
      height: 2px;
      background: lime;
      animation: moveLine 2s linear infinite;
    }
    @keyframes moveLine {
      0% { transform: translateX(0); }
      100% { transform: translateX(-100%); }
    }

    /* Heart animation */
    .heart {
      font-size: 40px;
      color: red;
      animation: beat 1s infinite;
    }
    @keyframes beat {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.4); }
    }

    pre {
      text-align: left;
      display: inline-block;
      color: white;
      margin-top: 20px;
    }

    /* Popup modal styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 999;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.7);
    }
    .modal-content {
      background-color: #ffe6f0;
      margin: 15% auto;
      padding: 20px;
      border-radius: 12px;
      width: 80%;
      max-width: 400px;
      text-align: center;
      font-family: Arial, sans-serif;
      color: #d6336c;
      box-shadow: 0 0 20px pink;
      animation: fadeIn 1s ease-in-out;
    }
    @keyframes fadeIn {
      from {opacity: 0;}
      to {opacity: 1;}
    }
    .close-btn {
      background-color: #d6336c;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      margin-top: 15px;
    }
    .close-btn:hover {
      background-color: #a61c4d;
    }
  </style>
</head>
<body onload="showModal()">

  <!-- Custom popup modal -->
  <div id="valentineModal" class="modal">
    <div class="modal-content">
      <div class="heart">‚ù§Ô∏è</div>
      <h2>üíñ Surprise! üíñ</h2>
      <p>Happy Valentine‚Äôs Day, my love üåπ</p>
      <button class="close-btn" onclick="closeModal()">Open Your Gift</button>
    </div>
  </div>

  <!-- Background music -->
  <audio id="bgMusic" loop>
    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  <!-- ECG line with hearts -->
  <div class="ecg">
    <div class="line"></div>
  </div>
  <div class="heart">‚ù§Ô∏è ‚ù§Ô∏è ‚ù§Ô∏è</div>

  <!-- Love letter -->
  <pre id="letter"></pre>

  <script>
    function showModal() {
      document.getElementById("valentineModal").style.display = "block";
    }
    function closeModal() {
      document.getElementById("valentineModal").style.display = "none";
      document.getElementById("bgMusic").play(); // start music
      startLetter();
    }

    function startLetter() {
      const text = `
Dear My Sweet Valentine,

You are the rhythm to my heartbeat,
the spark that keeps my soul alive.
Like an endless ECG line, my love for you
beats strong and true, never fading.

Every pulse reminds me of you,
every heartbeat carries your name.
On this Valentine‚Äôs Day, I promise
to keep our love steady, eternal, and full of joy.

Forever yours,
Your Eternal Programmer
      `;
      let i = 0;
      function typeWriter() {
        if (i < text.length) {
          document.getElementById("letter").textContent += text.charAt(i);
          i++;
          setTimeout(typeWriter, 50);
        }
      }
      typeWriter();
    }
  </script>
</body>
</html>
